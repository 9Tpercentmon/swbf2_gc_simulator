var baseWeightCW = {}
baseWeightCW = {
'star04': {
    'star04': 1,
    'star06': 0.25,
    'fel': 0.00390625,
    'star20': 0.125,
    'myg': 0.03125,
    'star02': 0.25,
    'geo': 0.0625,
    'star05': 0.25,
    'kam': 0.015625,
    'pol': 0.5,
    'dag': 0.125,
    'star07': 0.125,
    'mus': 0.5,
    'cor': 0.0625,
    'star13': 0.0078125,
    'uta': 0.5,
    'kas': 0.015625,
    'nab': 0.0625,
    'yav': 0.0078125,
    'star15': 0.015625,
    'tat': 0.03125,
    'star12': 0.03125,
    'star17': 0.03125,
},
'star06': {
    'star04': 0.25,
    'star06': 1,
    'fel': 0.015625,
    'star20': 0.03125,
    'myg': 0.0625,
    'star02': 0.0625,
    'geo': 0.25,
    'star05': 0.25,
    'kam': 0.0625,
    'pol': 0.125,
    'dag': 0.5,
    'star07': 0.5,
    'mus': 0.125,
    'cor': 0.0625,
    'yav': 0.015625,
    'uta': 0.5,
    'kas': 0.0625,
    'nab': 0.25,
    'star15': 0.03125,
    'star13': 0.03125,
    'tat': 0.125,
    'star12': 0.125,
    'star17': 0.125,
},
'fel': {
    'star04': 0.00390625,
    'star06': 0.015625,
    'fel': 1,
    'star20': 0.03125,
    'myg': 0.125,
    'star02': 0.015625,
    'star15': 0.25,
    'star05': 0.015625,
    'kam': 0.25,
    'pol': 0.0078125,
    'dag': 0.03125,
    'star07': 0.03125,
    'yav': 0.5,
    'cor': 0.0625,
    'mus': 0.0078125,
    'uta': 0.0078125,
    'kas': 0.25,
    'nab': 0.0625,
    'star13': 0.5,
    'geo': 0.0625,
    'tat': 0.125,
    'star17': 0.125,
    'star12': 0.125,
},
'star20': {
    'star04': 0.125,
    'star06': 0.03125,
    'fel': 0.03125,
    'star20': 1,
    'myg': 0.25,
    'star02': 0.5,
    'star15': 0.125,
    'star05': 0.125,
    'star13': 0.0625,
    'pol': 0.25,
    'dag': 0.0625,
    'star07': 0.0625,
    'yav': 0.0625,
    'cor': 0.5,
    'star12': 0.0625,
    'uta': 0.0625,
    'kas': 0.125,
    'nab': 0.125,
    'geo': 0.03125,
    'kam': 0.03125,
    'tat': 0.015625,
    'mus': 0.25,
    'star17': 0.25,
},
'myg': {
    'star04': 0.03125,
    'star06': 0.0625,
    'fel': 0.125,
    'star20': 0.25,
    'myg': 1,
    'star02': 0.125,
    'star15': 0.5,
    'star05': 0.0625,
    'star13': 0.125,
    'pol': 0.0625,
    'dag': 0.125,
    'star07': 0.125,
    'yav': 0.25,
    'cor': 0.5,
    'kam': 0.0625,
    'uta': 0.03125,
    'kas': 0.25,
    'star12': 0.125,
    'mus': 0.0625,
    'geo': 0.0625,
    'tat': 0.03125,
    'star17': 0.5,
    'nab': 0.25,
},
'star02': {
    'star04': 0.25,
    'star06': 0.0625,
    'fel': 0.015625,
    'star20': 0.5,
    'myg': 0.125,
    'star02': 1,
    'star17': 0.125,
    'star05': 0.25,
    'star13': 0.03125,
    'pol': 0.5,
    'dag': 0.125,
    'star07': 0.03125,
    'mus': 0.5,
    'cor': 0.25,
    'yav': 0.03125,
    'uta': 0.125,
    'kas': 0.0625,
    'nab': 0.0625,
    'kam': 0.015625,
    'geo': 0.015625,
    'tat': 0.0078125,
    'star12': 0.03125,
    'star15': 0.0625,
},
'geo': {
    'star04': 0.0625,
    'star06': 0.25,
    'fel': 0.0625,
    'star20': 0.03125,
    'myg': 0.0625,
    'star02': 0.015625,
    'geo': 1,
    'star05': 0.0625,
    'kam': 0.25,
    'pol': 0.03125,
    'dag': 0.125,
    'star07': 0.5,
    'mus': 0.03125,
    'cor': 0.0625,
    'yav': 0.03125,
    'uta': 0.125,
    'kas': 0.0625,
    'nab': 0.25,
    'star15': 0.03125,
    'star13': 0.125,
    'tat': 0.5,
    'star17': 0.125,
    'star12': 0.125,
},
'star05': {
    'star04': 0.25,
    'star06': 0.25,
    'fel': 0.015625,
    'star20': 0.125,
    'myg': 0.0625,
    'star02': 0.25,
    'geo': 0.0625,
    'star05': 1,
    'kam': 0.0625,
    'pol': 0.125,
    'dag': 0.5,
    'star07': 0.125,
    'mus': 0.5,
    'cor': 0.0625,
    'yav': 0.015625,
    'uta': 0.5,
    'kas': 0.0625,
    'star12': 0.125,
    'star15': 0.03125,
    'star13': 0.03125,
    'tat': 0.03125,
    'star17': 0.125,
    'nab': 0.25,
},
'kam': {
    'star04': 0.015625,
    'star06': 0.0625,
    'fel': 0.25,
    'star20': 0.03125,
    'myg': 0.0625,
    'star02': 0.015625,
    'star17': 0.125,
    'star05': 0.0625,
    'star13': 0.5,
    'pol': 0.0078125,
    'dag': 0.125,
    'star07': 0.125,
    'yav': 0.125,
    'cor': 0.0625,
    'mus': 0.03125,
    'uta': 0.03125,
    'kas': 0.25,
    'star12': 0.5,
    'star15': 0.125,
    'kam': 1,
    'tat': 0.5,
    'geo': 0.25,
    'nab': 0.25,
},
'pol': {
    'star04': 0.5,
    'star06': 0.125,
    'fel': 0.0078125,
    'star20': 0.25,
    'myg': 0.0625,
    'star02': 0.5,
    'star17': 0.0625,
    'star05': 0.125,
    'star13': 0.015625,
    'pol': 1,
    'dag': 0.0625,
    'star07': 0.0625,
    'mus': 0.25,
    'cor': 0.125,
    'kam': 0.0078125,
    'uta': 0.25,
    'kas': 0.03125,
    'nab': 0.03125,
    'yav': 0.015625,
    'star12': 0.015625,
    'tat': 0.015625,
    'star15': 0.03125,
    'geo': 0.03125,
},
'dag': {
    'star04': 0.125,
    'star06': 0.5,
    'fel': 0.03125,
    'star20': 0.0625,
    'myg': 0.125,
    'star02': 0.125,
    'star17': 0.25,
    'star05': 0.5,
    'kam': 0.125,
    'pol': 0.0625,
    'dag': 1,
    'star07': 0.25,
    'mus': 0.25,
    'cor': 0.125,
    'yav': 0.03125,
    'uta': 0.25,
    'kas': 0.125,
    'nab': 0.5,
    'star15': 0.0625,
    'star13': 0.0625,
    'tat': 0.0625,
    'geo': 0.125,
    'star12': 0.25,
},
'star07': {
    'star04': 0.125,
    'star06': 0.5,
    'fel': 0.03125,
    'star20': 0.0625,
    'myg': 0.125,
    'star02': 0.03125,
    'geo': 0.5,
    'star05': 0.125,
    'kam': 0.125,
    'pol': 0.0625,
    'dag': 0.25,
    'star07': 1,
    'mus': 0.0625,
    'cor': 0.125,
    'yav': 0.03125,
    'uta': 0.25,
    'kas': 0.125,
    'nab': 0.5,
    'star15': 0.0625,
    'star13': 0.0625,
    'tat': 0.25,
    'star17': 0.25,
    'star12': 0.25,
},
'mus': {
    'star04': 0.5,
    'star06': 0.125,
    'fel': 0.0078125,
    'star20': 0.25,
    'myg': 0.0625,
    'star02': 0.5,
    'star17': 0.0625,
    'star05': 0.5,
    'kam': 0.03125,
    'pol': 0.25,
    'dag': 0.25,
    'star07': 0.0625,
    'mus': 1,
    'cor': 0.125,
    'geo': 0.03125,
    'uta': 0.25,
    'kas': 0.03125,
    'nab': 0.125,
    'star13': 0.015625,
    'yav': 0.015625,
    'tat': 0.015625,
    'star15': 0.03125,
    'star12': 0.0625,
},
'cor': {
    'star04': 0.0625,
    'star06': 0.0625,
    'fel': 0.0625,
    'star20': 0.5,
    'myg': 0.5,
    'star02': 0.25,
    'star17': 0.5,
    'star05': 0.0625,
    'star13': 0.125,
    'pol': 0.125,
    'dag': 0.125,
    'star07': 0.125,
    'yav': 0.125,
    'cor': 1,
    'mus': 0.125,
    'uta': 0.03125,
    'kas': 0.25,
    'nab': 0.25,
    'geo': 0.0625,
    'kam': 0.0625,
    'tat': 0.03125,
    'star12': 0.125,
    'star15': 0.25,
},
'star17': {
    'star04': 0.03125,
    'star06': 0.125,
    'fel': 0.125,
    'star20': 0.25,
    'myg': 0.5,
    'star02': 0.125,
    'star17': 1,
    'star05': 0.125,
    'star13': 0.25,
    'pol': 0.0625,
    'dag': 0.25,
    'star07': 0.25,
    'yav': 0.125,
    'cor': 0.5,
    'kam': 0.125,
    'uta': 0.0625,
    'kas': 0.5,
    'nab': 0.5,
    'mus': 0.0625,
    'geo': 0.125,
    'tat': 0.0625,
    'star15': 0.25,
    'star12': 0.25,
},
'uta': {
    'star04': 0.5,
    'star06': 0.5,
    'fel': 0.0078125,
    'star20': 0.0625,
    'myg': 0.03125,
    'star02': 0.125,
    'geo': 0.125,
    'star05': 0.5,
    'kam': 0.03125,
    'pol': 0.25,
    'dag': 0.25,
    'star07': 0.25,
    'mus': 0.25,
    'cor': 0.03125,
    'yav': 0.0078125,
    'uta': 1,
    'kas': 0.03125,
    'star12': 0.0625,
    'star15': 0.015625,
    'star13': 0.015625,
    'tat': 0.0625,
    'star17': 0.0625,
    'nab': 0.125,
},
'kas': {
    'star04': 0.015625,
    'star06': 0.0625,
    'fel': 0.25,
    'star20': 0.125,
    'myg': 0.25,
    'star02': 0.0625,
    'star15': 0.5,
    'star05': 0.0625,
    'kam': 0.25,
    'pol': 0.03125,
    'dag': 0.125,
    'star07': 0.125,
    'yav': 0.25,
    'cor': 0.25,
    'mus': 0.03125,
    'uta': 0.03125,
    'kas': 1,
    'star12': 0.5,
    'geo': 0.0625,
    'star13': 0.5,
    'tat': 0.125,
    'star17': 0.5,
    'nab': 0.25,
},
'nab': {
    'star04': 0.0625,
    'star06': 0.25,
    'fel': 0.0625,
    'star20': 0.125,
    'myg': 0.25,
    'star02': 0.0625,
    'geo': 0.25,
    'star05': 0.25,
    'kam': 0.25,
    'pol': 0.03125,
    'dag': 0.5,
    'star07': 0.5,
    'mus': 0.125,
    'cor': 0.25,
    'yav': 0.0625,
    'uta': 0.125,
    'kas': 0.25,
    'star12': 0.5,
    'star15': 0.125,
    'star13': 0.125,
    'tat': 0.125,
    'star17': 0.5,
    'nab': 1,
},
'star15': {
    'star04': 0.015625,
    'star06': 0.03125,
    'fel': 0.25,
    'star20': 0.125,
    'myg': 0.5,
    'star02': 0.0625,
    'star17': 0.25,
    'star05': 0.03125,
    'kam': 0.125,
    'pol': 0.03125,
    'dag': 0.0625,
    'star07': 0.0625,
    'yav': 0.5,
    'cor': 0.25,
    'mus': 0.03125,
    'uta': 0.015625,
    'kas': 0.5,
    'star12': 0.25,
    'geo': 0.03125,
    'nab': 0.125,
    'tat': 0.0625,
    'star15': 1,
    'star13': 0.25,
},
'star13': {
    'star04': 0.0078125,
    'star06': 0.03125,
    'fel': 0.5,
    'star20': 0.0625,
    'myg': 0.125,
    'star02': 0.03125,
    'star15': 0.25,
    'star05': 0.03125,
    'kam': 0.5,
    'pol': 0.015625,
    'dag': 0.0625,
    'star07': 0.0625,
    'yav': 0.25,
    'cor': 0.125,
    'mus': 0.015625,
    'uta': 0.015625,
    'kas': 0.5,
    'nab': 0.125,
    'star13': 1,
    'geo': 0.125,
    'tat': 0.25,
    'star17': 0.25,
    'star12': 0.25,
},
'tat': {
    'star04': 0.03125,
    'star06': 0.125,
    'fel': 0.125,
    'star20': 0.015625,
    'myg': 0.03125,
    'star02': 0.0078125,
    'star17': 0.0625,
    'star05': 0.03125,
    'star13': 0.25,
    'pol': 0.015625,
    'dag': 0.0625,
    'star07': 0.25,
    'yav': 0.0625,
    'cor': 0.03125,
    'mus': 0.015625,
    'uta': 0.0625,
    'kas': 0.125,
    'star12': 0.25,
    'star15': 0.0625,
    'kam': 0.5,
    'tat': 1,
    'geo': 0.5,
    'nab': 0.125,
},
'star12': {
    'star04': 0.03125,
    'star06': 0.125,
    'fel': 0.125,
    'star20': 0.0625,
    'myg': 0.125,
    'star02': 0.03125,
    'star17': 0.25,
    'star05': 0.125,
    'kam': 0.5,
    'pol': 0.015625,
    'dag': 0.25,
    'star07': 0.25,
    'yav': 0.125,
    'cor': 0.125,
    'mus': 0.0625,
    'uta': 0.0625,
    'kas': 0.5,
    'star12': 1,
    'geo': 0.125,
    'star15': 0.25,
    'tat': 0.25,
    'nab': 0.5,
    'star13': 0.25,
},
'yav': {
    'star04': 0.0078125,
    'star06': 0.015625,
    'fel': 0.5,
    'star20': 0.0625,
    'myg': 0.25,
    'star02': 0.03125,
    'star17': 0.125,
    'star05': 0.015625,
    'kam': 0.125,
    'pol': 0.015625,
    'dag': 0.03125,
    'star07': 0.03125,
    'yav': 1,
    'cor': 0.125,
    'mus': 0.015625,
    'uta': 0.0078125,
    'kas': 0.25,
    'star12': 0.125,
    'geo': 0.03125,
    'nab': 0.0625,
    'tat': 0.0625,
    'star15': 0.5,
    'star13': 0.25,
}	
}


var baseWeightGCW = {}
baseWeightGCW = {
'star04':  {
    'star04': 1,
    'star06': 0.25,
    'fel': 0.00390625,
    'star20': 0.0078125,
    'myg': 0.015625,
    'star02': 0.25,
    'star17': 0.03125,
    'star05': 0.25,
    'star13': 0.0078125,
    'pol': 0.5,
    'hot': 0.125,
    'star07': 0.125,
    'end': 0.00390625,
    'mus': 0.5,
    'yav': 0.00390625,
    'star18': 0.0078125,
    'cor': 0.015625,
    'star03': 0.25,
    'star15': 0.0078125,
    'uta': 0.5,
    'kas': 0.015625,
    'nab': 0.0625,
    'dag': 0.125,
    'kam_star': 0.015625,
    'tat': 0.03125,
    'star12': 0.03125,
    'star10': 0.0625,
},
'star06':  {
    'star04': 0.25,
    'star06': 1,
    'fel': 0.015625,
    'star20': 0.03125,
    'myg': 0.0625,
    'star02': 0.0625,
    'star17': 0.125,
    'star05': 0.25,
    'star13': 0.03125,
    'pol': 0.125,
    'dag': 0.5,
    'star07': 0.5,
    'end': 0.015625,
    'mus': 0.125,
    'yav': 0.015625,
    'star18': 0.03125,
    'cor': 0.0625,
    'star03': 0.0625,
    'star15': 0.03125,
    'uta': 0.5,
    'kas': 0.0625,
    'star12': 0.125,
    'hot': 0.03125,
    'kam_star': 0.0625,
    'tat': 0.125,
    'star10': 0.25,
    'nab': 0.25,
},
'fel':  {
    'star04': 0.00390625,
    'star06': 0.015625,
    'fel': 1,
    'star20': 0.03125,
    'myg': 0.125,
    'star02': 0.00390625,
    'star15': 0.25,
    'star05': 0.015625,
    'star13': 0.5,
    'pol': 0.001953125,
    'star10': 0.0625,
    'star07': 0.03125,
    'dag': 0.03125,
    'yav': 0.5,
    'hot': 0.001953125,
    'mus': 0.0078125,
    'cor': 0.0625,
    'star03': 0.0009765625,
    'end': 0.03125,
    'uta': 0.0078125,
    'kas': 0.25,
    'star12': 0.125,
    'star18': 0.0625,
    'kam_star': 0.25,
    'tat': 0.125,
    'nab': 0.0625,
    'star17': 0.125,
},
'star20':  {
    'star04': 0.0078125,
    'star06': 0.03125,
    'fel': 0.03125,
    'star20': 1,
    'myg': 0.125,
    'star02': 0.0078125,
    'star15': 0.0625,
    'star05': 0.03125,
    'end': 0.5,
    'pol': 0.00390625,
    'dag': 0.0625,
    'star07': 0.0625,
    'star12': 0.0625,
    'yav': 0.03125,
    'hot': 0.00390625,
    'mus': 0.015625,
    'cor': 0.5,
    'star03': 0.001953125,
    'tat': 0.015625,
    'uta': 0.015625,
    'kas': 0.125,
    'nab': 0.125,
    'star10': 0.03125,
    'kam_star': 0.03125,
    'star18': 0.25,
    'star13': 0.0625,
    'star17': 0.25,
},
'myg':  {
    'star04': 0.015625,
    'star06': 0.0625,
    'fel': 0.125,
    'star20': 0.125,
    'myg': 1,
    'star02': 0.015625,
    'star17': 0.5,
    'star05': 0.0625,
    'end': 0.25,
    'pol': 0.0078125,
    'dag': 0.125,
    'star07': 0.125,
    'star15': 0.5,
    'yav': 0.25,
    'hot': 0.0078125,
    'mus': 0.03125,
    'cor': 0.25,
    'star03': 0.00390625,
    'tat': 0.03125,
    'uta': 0.03125,
    'kas': 0.25,
    'star12': 0.125,
    'star10': 0.0625,
    'kam_star': 0.0625,
    'star18': 0.5,
    'star13': 0.125,
    'nab': 0.25,
},
'star02':  {
    'star04': 0.25,
    'star06': 0.0625,
    'fel': 0.00390625,
    'star20': 0.0078125,
    'myg': 0.015625,
    'star02': 1,
    'star17': 0.03125,
    'star05': 0.25,
    'star13': 0.0078125,
    'pol': 0.125,
    'hot': 0.5,
    'star07': 0.03125,
    'end': 0.00390625,
    'mus': 0.5,
    'yav': 0.00390625,
    'star18': 0.0078125,
    'cor': 0.015625,
    'star03': 0.25,
    'star15': 0.0078125,
    'uta': 0.125,
    'kas': 0.015625,
    'star12': 0.03125,
    'star10': 0.015625,
    'kam_star': 0.015625,
    'tat': 0.0078125,
    'nab': 0.0625,
    'dag': 0.125,
},
'star15':  {
    'star04': 0.0078125,
    'star06': 0.03125,
    'fel': 0.25,
    'star20': 0.0625,
    'myg': 0.5,
    'star02': 0.0078125,
    'star15': 1,
    'star05': 0.03125,
    'star13': 0.25,
    'pol': 0.00390625,
    'star10': 0.125,
    'star07': 0.0625,
    'tat': 0.0625,
    'yav': 0.5,
    'hot': 0.00390625,
    'mus': 0.015625,
    'cor': 0.125,
    'star03': 0.001953125,
    'dag': 0.0625,
    'uta': 0.015625,
    'kas': 0.5,
    'star12': 0.25,
    'end': 0.125,
    'kam_star': 0.125,
    'star18': 0.25,
    'nab': 0.125,
    'star17': 0.25,
},
'star05':  {
    'star04': 0.25,
    'star06': 0.25,
    'fel': 0.015625,
    'star20': 0.03125,
    'myg': 0.0625,
    'star02': 0.25,
    'star17': 0.125,
    'star05': 1,
    'star13': 0.03125,
    'pol': 0.125,
    'dag': 0.5,
    'star07': 0.125,
    'end': 0.015625,
    'mus': 0.5,
    'yav': 0.015625,
    'star18': 0.03125,
    'cor': 0.0625,
    'star03': 0.0625,
    'star15': 0.03125,
    'uta': 0.5,
    'kas': 0.0625,
    'star12': 0.125,
    'star10': 0.0625,
    'kam_star': 0.0625,
    'tat': 0.03125,
    'nab': 0.25,
    'hot': 0.125,
},
'end':  {
    'star04': 0.00390625,
    'star06': 0.015625,
    'fel': 0.03125,
    'star20': 0.5,
    'myg': 0.25,
    'star02': 0.00390625,
    'star17': 0.125,
    'star05': 0.015625,
    'end': 1,
    'pol': 0.001953125,
    'dag': 0.03125,
    'star07': 0.03125,
    'star13': 0.03125,
    'yav': 0.0625,
    'hot': 0.001953125,
    'mus': 0.0078125,
    'cor': 0.25,
    'star03': 0.0009765625,
    'tat': 0.0078125,
    'uta': 0.0078125,
    'kas': 0.0625,
    'star12': 0.03125,
    'star10': 0.015625,
    'kam_star': 0.015625,
    'star18': 0.5,
    'star15': 0.125,
    'nab': 0.0625,
},
'pol':  {
    'star04': 0.5,
    'star06': 0.125,
    'fel': 0.001953125,
    'star20': 0.00390625,
    'myg': 0.0078125,
    'star02': 0.125,
    'star17': 0.015625,
    'star05': 0.125,
    'star13': 0.00390625,
    'pol': 1,
    'hot': 0.25,
    'star07': 0.0625,
    'end': 0.001953125,
    'mus': 0.25,
    'yav': 0.001953125,
    'star18': 0.00390625,
    'cor': 0.0078125,
    'star03': 0.5,
    'star15': 0.00390625,
    'uta': 0.25,
    'kas': 0.0078125,
    'nab': 0.03125,
    'dag': 0.0625,
    'kam_star': 0.0078125,
    'tat': 0.015625,
    'star12': 0.015625,
    'star10': 0.03125,
},
'dag':  {
    'star04': 0.125,
    'star06': 0.5,
    'fel': 0.03125,
    'star20': 0.0625,
    'myg': 0.125,
    'star02': 0.125,
    'star17': 0.25,
    'star05': 0.5,
    'star13': 0.0625,
    'pol': 0.0625,
    'dag': 1,
    'star07': 0.25,
    'end': 0.03125,
    'mus': 0.25,
    'yav': 0.03125,
    'star18': 0.0625,
    'cor': 0.125,
    'star03': 0.03125,
    'star15': 0.0625,
    'uta': 0.25,
    'kas': 0.125,
    'nab': 0.5,
    'hot': 0.0625,
    'kam_star': 0.125,
    'tat': 0.0625,
    'star12': 0.25,
    'star10': 0.125,
},
'star07':  {
    'star04': 0.125,
    'star06': 0.5,
    'fel': 0.03125,
    'star20': 0.0625,
    'myg': 0.125,
    'star02': 0.03125,
    'star17': 0.25,
    'star05': 0.125,
    'star13': 0.0625,
    'pol': 0.0625,
    'star10': 0.5,
    'star07': 1,
    'hot': 0.015625,
    'mus': 0.0625,
    'yav': 0.03125,
    'end': 0.03125,
    'cor': 0.125,
    'star03': 0.03125,
    'star18': 0.0625,
    'uta': 0.25,
    'kas': 0.125,
    'star12': 0.25,
    'star15': 0.0625,
    'kam_star': 0.125,
    'tat': 0.25,
    'nab': 0.5,
    'dag': 0.25,
},
'star18':  {
    'star04': 0.0078125,
    'star06': 0.03125,
    'fel': 0.0625,
    'star20': 0.25,
    'myg': 0.5,
    'star02': 0.0078125,
    'star17': 0.25,
    'star05': 0.03125,
    'end': 0.5,
    'pol': 0.00390625,
    'dag': 0.0625,
    'star07': 0.0625,
    'star13': 0.0625,
    'yav': 0.125,
    'hot': 0.00390625,
    'mus': 0.015625,
    'cor': 0.5,
    'star03': 0.001953125,
    'tat': 0.015625,
    'uta': 0.015625,
    'kas': 0.125,
    'star12': 0.0625,
    'star10': 0.03125,
    'kam_star': 0.03125,
    'star18': 1,
    'star15': 0.25,
    'nab': 0.125,
},
'mus':  {
    'star04': 0.5,
    'star06': 0.125,
    'fel': 0.0078125,
    'star20': 0.015625,
    'myg': 0.03125,
    'star02': 0.5,
    'star17': 0.0625,
    'star05': 0.5,
    'star13': 0.015625,
    'pol': 0.25,
    'hot': 0.25,
    'star07': 0.0625,
    'end': 0.0078125,
    'mus': 1,
    'yav': 0.0078125,
    'star18': 0.015625,
    'cor': 0.03125,
    'star03': 0.125,
    'star15': 0.015625,
    'uta': 0.25,
    'kas': 0.03125,
    'star12': 0.0625,
    'star10': 0.03125,
    'kam_star': 0.03125,
    'tat': 0.015625,
    'nab': 0.125,
    'dag': 0.25,
},
'star17':  {
    'star04': 0.03125,
    'star06': 0.125,
    'fel': 0.125,
    'star20': 0.25,
    'myg': 0.5,
    'star02': 0.03125,
    'star17': 1,
    'star05': 0.125,
    'star13': 0.25,
    'pol': 0.015625,
    'dag': 0.25,
    'star07': 0.25,
    'end': 0.125,
    'yav': 0.125,
    'hot': 0.015625,
    'mus': 0.0625,
    'cor': 0.5,
    'star03': 0.0078125,
    'tat': 0.0625,
    'uta': 0.0625,
    'kas': 0.5,
    'nab': 0.5,
    'star15': 0.25,
    'kam_star': 0.125,
    'star18': 0.25,
    'star10': 0.125,
    'star12': 0.25,
},
'star13':  {
    'star04': 0.0078125,
    'star06': 0.03125,
    'fel': 0.5,
    'star20': 0.0625,
    'myg': 0.125,
    'star02': 0.0078125,
    'star15': 0.25,
    'star05': 0.03125,
    'star13': 1,
    'pol': 0.00390625,
    'star10': 0.125,
    'star07': 0.0625,
    'star18': 0.0625,
    'yav': 0.25,
    'hot': 0.00390625,
    'mus': 0.015625,
    'cor': 0.125,
    'star03': 0.001953125,
    'end': 0.03125,
    'uta': 0.015625,
    'kas': 0.5,
    'star12': 0.25,
    'dag': 0.0625,
    'kam_star': 0.5,
    'tat': 0.25,
    'nab': 0.125,
    'star17': 0.25,
},
'cor':  {
    'star04': 0.015625,
    'star06': 0.0625,
    'fel': 0.0625,
    'star20': 0.5,
    'myg': 0.25,
    'star02': 0.015625,
    'star15': 0.125,
    'star05': 0.0625,
    'end': 0.25,
    'pol': 0.0078125,
    'dag': 0.125,
    'star07': 0.125,
    'star12': 0.125,
    'yav': 0.0625,
    'hot': 0.0078125,
    'mus': 0.03125,
    'cor': 1,
    'star03': 0.00390625,
    'tat': 0.03125,
    'uta': 0.03125,
    'kas': 0.25,
    'nab': 0.25,
    'star10': 0.0625,
    'kam_star': 0.0625,
    'star18': 0.5,
    'star13': 0.125,
    'star17': 0.5,
},
'star03':  {
    'star04': 0.25,
    'star06': 0.0625,
    'fel': 0.0009765625,
    'star20': 0.001953125,
    'myg': 0.00390625,
    'star02': 0.25,
    'star17': 0.0078125,
    'star05': 0.0625,
    'star13': 0.001953125,
    'pol': 0.5,
    'hot': 0.5,
    'star07': 0.03125,
    'end': 0.0009765625,
    'mus': 0.125,
    'yav': 0.0009765625,
    'star18': 0.001953125,
    'cor': 0.00390625,
    'star03': 1,
    'star15': 0.001953125,
    'uta': 0.125,
    'kas': 0.00390625,
    'nab': 0.015625,
    'dag': 0.03125,
    'kam_star': 0.00390625,
    'tat': 0.0078125,
    'star12': 0.0078125,
    'star10': 0.015625,
},
'star12':  {
    'star04': 0.03125,
    'star06': 0.125,
    'fel': 0.125,
    'star20': 0.0625,
    'myg': 0.125,
    'star02': 0.03125,
    'star17': 0.25,
    'star05': 0.125,
    'star13': 0.25,
    'pol': 0.015625,
    'star10': 0.5,
    'star07': 0.25,
    'mus': 0.0625,
    'yav': 0.125,
    'hot': 0.015625,
    'end': 0.03125,
    'cor': 0.125,
    'star03': 0.0078125,
    'star18': 0.0625,
    'uta': 0.0625,
    'kas': 0.5,
    'star12': 1,
    'star15': 0.25,
    'kam_star': 0.5,
    'tat': 0.25,
    'dag': 0.25,
    'nab': 0.5,
},
'uta':  {
    'star04': 0.5,
    'star06': 0.5,
    'fel': 0.0078125,
    'star20': 0.015625,
    'myg': 0.03125,
    'star02': 0.125,
    'star17': 0.0625,
    'star05': 0.5,
    'star13': 0.015625,
    'pol': 0.25,
    'dag': 0.25,
    'star07': 0.25,
    'end': 0.0078125,
    'mus': 0.25,
    'yav': 0.0078125,
    'star18': 0.015625,
    'cor': 0.03125,
    'star03': 0.125,
    'star15': 0.015625,
    'uta': 1,
    'kas': 0.03125,
    'nab': 0.125,
    'star12': 0.0625,
    'kam_star': 0.03125,
    'tat': 0.0625,
    'hot': 0.0625,
    'star10': 0.125,
},
'kas':  {
    'star04': 0.015625,
    'star06': 0.0625,
    'fel': 0.25,
    'star20': 0.125,
    'myg': 0.25,
    'star02': 0.015625,
    'star17': 0.5,
    'star05': 0.0625,
    'star13': 0.5,
    'pol': 0.0078125,
    'star10': 0.25,
    'star07': 0.125,
    'star18': 0.125,
    'yav': 0.25,
    'hot': 0.0078125,
    'mus': 0.03125,
    'cor': 0.25,
    'star03': 0.00390625,
    'end': 0.0625,
    'uta': 0.03125,
    'kas': 1,
    'star12': 0.5,
    'dag': 0.125,
    'kam_star': 0.25,
    'tat': 0.125,
    'star15': 0.5,
    'nab': 0.25,
},
'nab':  {
    'star04': 0.0625,
    'star06': 0.25,
    'fel': 0.0625,
    'star20': 0.125,
    'myg': 0.25,
    'star02': 0.0625,
    'star17': 0.5,
    'star05': 0.25,
    'star13': 0.125,
    'pol': 0.03125,
    'dag': 0.5,
    'star07': 0.5,
    'yav': 0.0625,
    'mus': 0.125,
    'hot': 0.03125,
    'end': 0.0625,
    'cor': 0.25,
    'star03': 0.015625,
    'star18': 0.125,
    'uta': 0.125,
    'kas': 0.25,
    'nab': 1,
    'star15': 0.125,
    'kam_star': 0.25,
    'tat': 0.125,
    'star12': 0.5,
    'star10': 0.25,
},
'star10':  {
    'star04': 0.0625,
    'star06': 0.25,
    'fel': 0.0625,
    'star20': 0.03125,
    'myg': 0.0625,
    'star02': 0.015625,
    'star17': 0.125,
    'star05': 0.0625,
    'star13': 0.125,
    'pol': 0.03125,
    'star10': 1,
    'star07': 0.5,
    'hot': 0.0078125,
    'yav': 0.0625,
    'mus': 0.03125,
    'end': 0.015625,
    'cor': 0.0625,
    'star03': 0.015625,
    'star18': 0.03125,
    'uta': 0.125,
    'kas': 0.25,
    'star12': 0.5,
    'star15': 0.125,
    'kam_star': 0.25,
    'tat': 0.5,
    'dag': 0.125,
    'nab': 0.25,
},
'kam_star':  {
    'star04': 0.015625,
    'star06': 0.0625,
    'fel': 0.25,
    'star20': 0.03125,
    'myg': 0.0625,
    'star02': 0.015625,
    'star17': 0.125,
    'star05': 0.0625,
    'star13': 0.5,
    'pol': 0.0078125,
    'star10': 0.25,
    'star07': 0.125,
    'mus': 0.03125,
    'yav': 0.125,
    'hot': 0.0078125,
    'end': 0.015625,
    'cor': 0.0625,
    'star03': 0.00390625,
    'star18': 0.03125,
    'uta': 0.03125,
    'kas': 0.25,
    'star12': 0.5,
    'star15': 0.125,
    'kam_star': 1,
    'tat': 0.5,
    'dag': 0.125,
    'nab': 0.25,
},
'tat':  {
    'star04': 0.03125,
    'star06': 0.125,
    'fel': 0.125,
    'star20': 0.015625,
    'myg': 0.03125,
    'star02': 0.0078125,
    'star17': 0.0625,
    'star05': 0.03125,
    'star13': 0.25,
    'pol': 0.015625,
    'star10': 0.5,
    'star07': 0.25,
    'hot': 0.00390625,
    'yav': 0.0625,
    'mus': 0.015625,
    'end': 0.0078125,
    'cor': 0.03125,
    'star03': 0.0078125,
    'star18': 0.015625,
    'uta': 0.0625,
    'kas': 0.125,
    'star12': 0.25,
    'star15': 0.0625,
    'kam_star': 0.5,
    'tat': 1,
    'dag': 0.0625,
    'nab': 0.125,
},
'yav':  {
    'star04': 0.00390625,
    'star06': 0.015625,
    'fel': 0.5,
    'star20': 0.03125,
    'myg': 0.25,
    'star02': 0.00390625,
    'star15': 0.5,
    'star05': 0.015625,
    'star13': 0.25,
    'pol': 0.001953125,
    'star10': 0.0625,
    'star07': 0.03125,
    'tat': 0.0625,
    'yav': 1,
    'hot': 0.001953125,
    'mus': 0.0078125,
    'cor': 0.0625,
    'star03': 0.0009765625,
    'dag': 0.03125,
    'uta': 0.0078125,
    'kas': 0.25,
    'star12': 0.125,
    'end': 0.0625,
    'kam_star': 0.125,
    'star18': 0.125,
    'nab': 0.0625,
    'star17': 0.125,
},
'hot':  {
    'star04': 0.125,
    'star06': 0.03125,
    'fel': 0.001953125,
    'star20': 0.00390625,
    'myg': 0.0078125,
    'star02': 0.5,
    'star17': 0.015625,
    'star05': 0.125,
    'star13': 0.00390625,
    'pol': 0.25,
    'hot': 1,
    'star07': 0.015625,
    'end': 0.001953125,
    'mus': 0.25,
    'yav': 0.001953125,
    'star18': 0.00390625,
    'cor': 0.0078125,
    'star03': 0.5,
    'star15': 0.00390625,
    'uta': 0.0625,
    'kas': 0.0078125,
    'star12': 0.015625,
    'star10': 0.0078125,
    'kam_star': 0.0078125,
    'tat': 0.00390625,
    'nab': 0.03125,
    'dag': 0.0625,
}}

var roundSettingsLua = {
  planetTeam: {},
  planetFleet: {},
  recentPlanets: {}
}
var built_this_roundLua = ""
var main_gameLua = {
  planetDestination: {},
  planetValue: {},
  planetTeam: roundSettingsLua.planetTeam,
  spaceValue: {victory: 30, defeat: 10},
  planetFleet: roundSettingsLua.planetFleet,
  recentPlanets: roundSettingsLua.recentPlanets,
  constWeights: {},
  planetFullName: {}
}

main_gameLua.planetFullName = {
  'mus': 'Mustafar',
  'fel': 'Felucia',
  'cor': 'Coruscant',
  'myg': 'Mygeeto',
  'yav': 'Yavin',
  'uta': 'Utapau',
  'kas': 'Kashyyyk',
  'nab': 'Naboo',
  'end': 'Endor',
  'hot': 'Hoth',
  'tat': 'Tatooine',
  'pol': 'Polis Massa',
  'dag': 'Dagobah',
  'geo': 'Geonosis',
  'kam': 'Kamino',

}

var eraSettings = {
	'gcw': {
		'planetValue' : {
		  'cor': {victory: 60,defeat: 20,turn: 3},
		  'dag': {victory: 60,defeat: 20,turn: 3},
		  'end': {victory: 100,defeat: 35,turn: 10 },
		  'hot': {victory: 100,defeat: 35,turn: 10},
		  'fel': {victory: 50,defeat: 20,turn: 3},
		  'kas': {victory: 50,defeat: 20,turn: 3},
		  'mus': {victory: 60,defeat: 20,turn: 3},
		  'myg': {victory: 50,defeat: 20,turn: 3},
		  'nab': {victory: 50,defeat: 20,turn: 3},
		  'pol': {victory: 50,defeat: 20,turn: 3},
		  'tat': {victory: 50,defeat: 20,turn: 3},
		  'uta': {victory: 50,defeat: 20,turn: 3},
		  'yav': {victory: 60,defeat: 20,turn: 3}
		},
		'planetDestination' : {
			'cor': ['star20', 'star18', 'star17'],
			'dag': ['star05', 'star06', 'nab'],
			'end': ['star20', 'star18'],
			'fel': ['star13', 'yav'],
			'hot': ['star02', 'star03'],
			'kas': ['star12', 'star13', 'star15', 'star17'],
			'kam_star': ['tat', 'star12', 'star13'],
			'mus': ['star02', 'star04', 'star05'],
			'myg': ['star18', 'star17', 'star15'],
			'nab': ['star07', 'star12', 'star17', 'dag'],
			'pol': ['star04', 'star03'],
			'tat': ['star10', 'kam_star'],
			'uta': ['star04', 'star05', 'star06'],
			'yav': ['star15', 'fel'],
			'star02': ['hot', 'mus'],
			'star03': ['hot', 'pol'],
			'star04': ['mus', 'pol', 'uta'],
			'star05': ['mus', 'uta', 'dag'],
			'star06': ['uta', 'dag', 'star07'],
			'star07': ['nab', 'star06', 'star10'],
			'star10': ['star12', 'tat', 'star07'],
			'star12': ['star10', 'kam_star', 'nab', 'kas'],
			'star13': ['kas', 'kam_star', 'fel'],
			'star15': ['kas', 'yav', 'myg'],
			'star17': ['cor', 'kas', 'myg', 'nab'],
			'star18': ['cor', 'myg', 'end'],
			'star20': ['end', 'cor']
		},
		'baseWeight': baseWeightGCW
	},
	
	'cw': {
		'planetValue' : {
			'cor': { victory: 60, defeat: 20, turn: 3 },
			'dag': { victory: 50, defeat: 20, turn: 3 },
			'fel': { victory: 50, defeat: 20, turn: 3 },
			'geo': { victory: 100, defeat: 35, turn: 10 },
			'kas': { victory: 50, defeat: 20, turn: 3 },
			'kam': { victory: 100, defeat: 35, turn: 10 },
			'mus': { victory: 60, defeat: 20, turn: 3 },
			'myg': { victory: 50, defeat: 20, turn: 3 },
			'nab': { victory: 60, defeat: 20, turn: 3 },
			'pol': { victory: 50, defeat: 20, turn: 3 },
			'tat': { victory: 50, defeat: 20, turn: 3 },
			'uta': { victory: 60, defeat: 20, turn: 3 },
			'yav': { victory: 50, defeat: 20, turn: 3 },
		},		
		
		'planetDestination' : {
			'cor': [ 'star20', 'myg', 'star17' ],
			'dag': [ 'star05', 'star06', 'nab' ],
		//	'end_star': [ 'star20', 'star18' ],
			'fel': [ 'star13', 'yav'],
			'geo': [ 'star07', 'tat' ],
		//	'hot_star': [ 'star01', 'star02' ],
			'kas': [ 'star12', 'star13', 'star15', 'star17' ],
			'kam': [ 'star12', 'star13', 'tat' ],
			'mus': [ 'star02', 'star04', 'star05' ],
			'myg': [ 'star17', 'cor', 'star15' ],
			'nab': [ 'star07', 'star12', 'star17', 'dag' ],
			'pol': [ 'star04', 'star02' ],
			'tat': [ 'geo', 'kam' ],
			'uta': [ 'star04', 'star05', 'star06' ],
			'yav': [ 'star15', 'fel' ],
		//	'star01': [ 'end_star', 'star02' ],
			'star02': [ 'mus', 'star20', 'pol' ],
		//	'star03': [ 'hot_star', 'pol' ],
			'star04': [ 'mus', 'pol', 'uta' ],
			'star05': [ 'mus', 'uta', 'dag' ],
			'star06': [ 'uta', 'dag', 'star07' ],
			'star07': [ 'nab', 'geo', 'star06' ],
		//	'star08': [ 'star06', 'geo' ],
		//	'star09': [ 'tat', 'geo' ],
		//	'star10': [ 'star12', 'geo', 'tat' ],
		//	'star11': [ 'tat', 'kam' ],
			'star12': [ 'kam', 'nab', 'kas' ],
			'star13': [ 'kas', 'kam', 'fel' ],
		//	'star14': [ 'fel', 'yav' ],
			'star15': [ 'kas', 'yav', 'myg' ],
		//	'star16': [ 'yav', 'myg' ],
			'star17': [ 'cor', 'myg', 'kas', 'nab' ],
		//	'star18': [ 'cor', 'myg' ],
		//	'star19': [ 'end_star', 'star18' ],
			'star20': [ 'star02', 'cor' ]

		},
		'baseWeight': baseWeightCW
	}
}

thisVar = {
  planetValue: {},
  defenseValue: {},
  weightScale: {},
  turncount: 5,
  fleetscore: 15,
  enemyvaluescale: 0.5,
  threatscale: 0.5,
  aggression: 1.0
}

/*function setMoveVars (eraLua,planetTeam,planetFleet,recentPlanets,built_this_round){
	roundSettingsLua.planetTeam = planetTeam
	roundSettingsLua.planetFleet = planetFleet
	roundSettingsLua.recentPlanets = recentPlanets
	built_this_roundLua = built_this_round
	
	main_gameLua.planetValue = eraSettings[eraLua].planetValue
	main_gameLua.planetDestination = eraSettings[eraLua].planetDestination
	
}*/


function InitVarsMove(thisVar,eraLua,planetTeam,planetFleet,recentPlanets,built_this_round) {

  // create planet value and weight scale tables
	
	main_gameLua.planetTeam = planetTeam
	main_gameLua.planetFleet = planetFleet
	main_gameLua.recentPlanets = recentPlanets
	built_this_roundLua = built_this_round
	
	main_gameLua.planetValue = eraSettings[eraLua].planetValue
	main_gameLua.planetDestination = eraSettings[eraLua].planetDestination
	thisVar.planetValue = {}
	thisVar.defenseValue = {}
	thisVar.weightScale = {}
	for (var planet in main_gameLua.planetDestination) {
		thisVar.planetValue[planet] = 0
		thisVar.defenseValue[planet] = {
			[false]: 0,
			[true]: 0
		}
		//thisVar.weightScale[planet] = SpreadWeightFromPlanet(planet, 1)
		thisVar.weightScale[planet] = eraSettings[eraLua].baseWeight[planet]
	}
  //console.log(thisVar.weightScale)
  return thisVar
}

function SpreadWeightFromPlanet(startplanet, startweight) {
  var closed = {}
  var queue = {}
  queue[startplanet] = startweight

  do {
    var next = Object.keys(queue)[0];
    var planet = next
    var weight = queue[next]
    //console.log(planet, weight)
    delete queue[planet];
    if (closed[planet] == null || weight > closed[planet]) {
      closed[planet] = weight
      weight = weight / 2
      var i = 0
      while (i < main_gameLua.planetDestination[planet].length) {
        var destination = main_gameLua.planetDestination[planet][i]
        if (closed[destination] == null || (weight > closed[destination])) {
          queue[destination] = weight

        }
        i++
      }
    }
  } while (Object.keys(queue).length > 0)

  return closed

}

function CalculateWeights(thisVar, botTeam) {
  // clear out planet weights
  for (var planet in main_gameLua.planetDestination) {
    thisVar.planetValue[planet] = 0
    thisVar.defenseValue[planet] = {
      [false]: 0,
      [true]: 0
    }
  }

  // for each planet...
  for (var planet in main_gameLua.planetTeam) {
    var weight = 0
    var defense = false
    var team = main_gameLua.planetTeam[planet]
    var fleet
    // if the planet is not neutral...
    if (team > 0) {
      // use defense value if mine
      defense = team == botTeam

      // get odds of planet victory
      // (should calculate based on purchases)
      var planetwin = 0.5

      // get planet value
      var value = main_gameLua.planetValue[planet]

      // win gets:
      // planet victory value
      // intrinsic value of the planet
      // scaled value of any port
      var winvalue = value.victory + value.turn * thisVar.turncount


      // lose gets:
      // planet defeat value
      // negative value of my fleet
      var losevalue = value.defeat - thisVar.fleetscore

      // calculate conditional value
      weight = planetwin * winvalue + (1 - planetwin) * losevalue
    }

    // if the planet has a fleet...
    fleet = main_gameLua.planetFleet[planet]
    if (fleet != null && built_this_roundLua != planet) {
      // use defense value if mine
      defense = fleet == botTeam

      // get odds of fleet victory
      // (should calculate based on purchases)
      var fleetwin = 0.5

      // get space value
      var value = main_gameLua.spaceValue

      // win gets:
      // space victory value
      // scaled value of enemy fleet
      // underlying planet value
      var winvalue = value.victory + thisVar.fleetscore * thisVar.enemyvaluescale + weight

      // lose gets:
      // space defeat value
      // negative value of my fleet
      var losevalue = value.defeat - thisVar.fleetscore

      // calculate conditional value
      weight = fleetwin * winvalue + (1 - fleetwin) * losevalue
    }

    // scale weight by battle recency

    for (var i in main_gameLua.recentPlanets) {
      var p = main_gameLua.recentPlanets[i]
      if (p == planet) {
        weight = weight * Math.pow(2, i-3) // 1/8, 1/4, 1/2
        break
      }
    }



    // if the planet is worth anything...
    if (weight > 0) {
      // spread weight around
      for (var p in thisVar.weightScale[planet]) {
        var scale = thisVar.weightScale[planet][p]
        
        thisVar.defenseValue[p][defense] = thisVar.defenseValue[p][defense] + weight * scale
      }
    }
  }

  // for each fleet...
  var fleetThreat = {}

  for (var planet in main_gameLua.planetFleet) {
    var fleet = main_gameLua.planetFleet[planet]
    // use defense value if mine
    var defense = fleet == botTeam

    // calculate threat value
    // (use the offensive value the fleet sees at that location)
    var threat = thisVar.threatscale * thisVar.defenseValue[planet][!defense]

    // save fleet threat
    fleetThreat[planet] = [defense, threat]
  }

  // for each fleet threat...
  for (var planet in fleetThreat) {
    values = fleetThreat[planet]
    var defense = values[0]
    var threat = values[1]

    // spread weight around
    for (var p in thisVar.weightScale[planet]) {
      var scale = thisVar.weightScale[planet][p]
      thisVar.defenseValue[p][defense] = thisVar.defenseValue[p][defense] + threat * scale

    }
  }

  // create combined value
  for (var planet in thisVar.defenseValue) {
    var value = thisVar.defenseValue[planet]
    thisVar.planetValue[planet] = value[false] * thisVar.aggression + value[true] * (1 - thisVar.aggression)
    console.log('combined weight:', planet, thisVar.planetValue[planet])
    
  }

  return thisVar
}

function CalculateMoveFleet(thisVar, method) {
  console.log('\n--CalculateMoveFleet--')
  console.log('from', 'to', 'weight')

  // get weighted move values
  var moveWeight = {}
  var totalWeight = 0
  var decimals = 6
 
  for (var planet in main_gameLua.planetFleet) {
    team = main_gameLua.planetFleet[planet]
    if (team == botTeam) {
      var reference = thisVar.planetValue[planet]

      var i = 0
      while (i < main_gameLua.planetDestination[planet].length) {
        var destination = main_gameLua.planetDestination[planet][i]
        if (main_gameLua.planetFleet[destination] != botTeam) {
          var weight = Math.pow(2, 0.2 * (thisVar.planetValue[destination] - reference))
          moveWeight[planet + "___" + destination] = weight
          console.log(planet, destination, weight)
          totalWeight = totalWeight + weight
        }
        i++
		
      }

    }
  }

	var totalSim = 1000000
	var probDestSim = {}
	var probDestSimPercent = {}
	var probDestMathPercent = {}
  if (method == 'sim' || method == 'both') {
    console.log('\n--Simulated Percent--')
    console.log('from', 'to', '%')
    
    
    //console.log("aquiloop: ", moveWeight)
    for (var i = 1; i <= totalSim; i++) {
      var randomWeight = Math.random() * totalWeight

      for (var move in moveWeight) {
        var weight = moveWeight[move]
        // deduct the move's weight
        randomWeight = randomWeight - weight
        //console.log("aqui:", move, moveWeight[move])
        // if this move is the selected one...
        if (randomWeight <= 0) {
          // get the start and next planets
	//console.log("winner: "+move)
          if (probDestSim[move] != undefined) {
            //console.log("here")
            probDestSim[move] = probDestSim[move] + 1
          } else
            probDestSim[move] = 1
break

        }
      }
    }

    for (var move in moveWeight) {
		
		probDestSimPercent[move] = probDestSim[move]/totalSim * 100
		console.log(move, probDestSim[move] / totalSim * 100)
	  
    }
    console.log('Simulations ran: ' + totalSim)
    //console.log(probDestSim)
  }

//guarantees it will always run so you can get its values no matter what
  //if (method == 'math' || method == 'both'){ 
  	console.log('\n--Math Percent--')
  	console.log('from','to','%')
  	var probDest = {}
  	var runningSumWeight = 0 //sum of weights during the loop
  	var runningSumChance = 0 //sum of the wasted chance
	for (var move in moveWeight) {
        var weight = moveWeight[move]
		runningSumWeight = weight+runningSumWeight
		var chance = runningSumWeight/totalWeight - runningSumChance
  		runningSumChance = runningSumChance+chance
		probDestMathPercent[move] = chance * 100
		console.log(move,chance*100)
	}
  //}
  
	return({'simulation':probDestSimPercent,'math':probDestMathPercent,'totalSim': totalSim, 'planetsWeight':thisVar.planetValue})
}



//https://www.educative.io/answers/how-to-compare-two-objects-in-javascript
function testObjEq(obj1,obj2){
    
    let objEqual = false;
    const obj1Keys = Object.keys(obj1).sort();
    const obj2Keys = Object.keys(obj2).sort();
    if (obj1Keys.length !== obj2Keys.length) {
      return(objEqual);
    } else {
      const areEqual = obj1Keys.every((key, index) => {
        const objValue1 = obj1[key];
        const objValue2 = obj2[obj2Keys[index]];
        return objValue1 === objValue2;
      });
      if (areEqual) {
        objEqual = true;
        return(objEqual);
      } else {
       return(objEqual);
      }
    }
}

//CalculateMoveFleet(CalculateWeights(InitVarsMove(thisVar,eraLua,planetTeam,planetFleet,recentPlanets,built_this_round), botTeam), 'both')
//console.log("teste")
